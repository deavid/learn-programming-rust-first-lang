<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">

<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>Having fun with libraries - Learn Programming with Rust as a first language</title>


    <!-- Custom HTML head -->
    
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff" />

    <link rel="icon" href="favicon.svg">
    <link rel="shortcut icon" href="favicon.png">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/chrome.css">
    <link rel="stylesheet" href="css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
    <link rel="stylesheet" href="fonts/fonts.css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="highlight.css">
    <link rel="stylesheet" href="tomorrow-night.css">
    <link rel="stylesheet" href="ayu-highlight.css">

    <!-- Custom theme stylesheets -->
    <link rel="stylesheet" href="styles.css">

    <!-- MathJax -->
    <script async type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>

<body>
    <!-- Provide site root to javascript -->
    <script type="text/javascript">
        var path_to_root = "";
        var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
    </script>

    <!-- Work around some values being stored in localStorage wrapped in quotes -->
    <script type="text/javascript">
        try {
            var theme = localStorage.getItem('mdbook-theme');
            var sidebar = localStorage.getItem('mdbook-sidebar');

            if (theme.startsWith('"') && theme.endsWith('"')) {
                localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
            }

            if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
            }
        } catch (e) { }
    </script>

    <!-- Set the theme before any content is loaded, prevents flash -->
    <script type="text/javascript">
        var theme;
        try { theme = localStorage.getItem('mdbook-theme'); } catch (e) { }
        if (theme === null || theme === undefined) { theme = default_theme; }
        var html = document.querySelector('html');
        html.classList.remove('no-js')
        html.classList.remove('light')
        html.classList.add(theme);
        html.classList.add('js');
    </script>

    <!-- Hide / unhide sidebar before it is displayed -->
    <script type="text/javascript">
        var html = document.querySelector('html');
        var sidebar = 'hidden';
        if (document.body.clientWidth >= 1080) {
            try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch (e) { }
            sidebar = sidebar || 'visible';
        }
        html.classList.remove('sidebar-visible');
        html.classList.add("sidebar-" + sidebar);
    </script>

    <nav id="sidebar" class="sidebar" aria-label="Table of contents">
        <div class="sidebar-scrollbox">
            <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded "><a href="001A_first_language.html"><strong aria-hidden="true">1.</strong> Your first programming language</a></li><li class="chapter-item expanded "><a href="002A_books.html"><strong aria-hidden="true">2.</strong> Related books</a></li><li class="chapter-item expanded "><a href="003A_setup.html"><strong aria-hidden="true">3.</strong> Setting up the computer</a></li><li class="chapter-item expanded "><a href="004A_first_program.html"><strong aria-hidden="true">4.</strong> Your first program</a></li><li class="chapter-item expanded "><a href="005A_to_the_IDE.html"><strong aria-hidden="true">5.</strong> Quick, to the IDE!</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="005B_saving_progress.html"><strong aria-hidden="true">5.1.</strong> Saving our progress</a></li></ol></li><li class="chapter-item expanded "><a href="006A_recipes.html"><strong aria-hidden="true">6.</strong> It's like cooking recipes, seriously</a></li><li class="chapter-item expanded "><a href="007A_little_boxes.html"><strong aria-hidden="true">7.</strong> Variables are like little boxes that store things inside</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="007B_ex_print_format.html"><strong aria-hidden="true">7.1.</strong> Exercise: Printing and Formatting</a></li></ol></li><li class="chapter-item expanded "><a href="008A_declaring.html"><strong aria-hidden="true">8.</strong> Declaring variables</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="008B_ex_variables.html"><strong aria-hidden="true">8.1.</strong> Exercise: Variables</a></li><li class="chapter-item expanded "><a href="008C_turtle.html"><strong aria-hidden="true">8.2.</strong> Let's try Turtle!</a></li></ol></li><li class="chapter-item expanded "><a href="009A_incrementing.html"><strong aria-hidden="true">9.</strong> Incrementing and decrementing</a></li><li class="chapter-item expanded "><a href="010A_looping.html"><strong aria-hidden="true">10.</strong> Looping' around</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="010B_ex_loops.html"><strong aria-hidden="true">10.1.</strong> Exercise: loops</a></li></ol></li><li class="chapter-item expanded "><a href="011A_comments.html"><strong aria-hidden="true">11.</strong> Adding some comments</a></li><li class="chapter-item expanded "><a href="012A_ifs.html"><strong aria-hidden="true">12.</strong> What If…?</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="012B_ex_ifs.html"><strong aria-hidden="true">12.1.</strong> Exercise: conditionals</a></li></ol></li><li class="chapter-item expanded "><a href="013A_loops_again.html"><strong aria-hidden="true">13.</strong> For loops again!</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="013B_other_loops.html"><strong aria-hidden="true">13.1.</strong> Other types of loops</a></li><li class="chapter-item expanded "><a href="013C_turtle_loops.html"><strong aria-hidden="true">13.2.</strong> Turtle: Improving with loops</a></li><li class="chapter-item expanded "><a href="013D_turtle_spiral.html"><strong aria-hidden="true">13.3.</strong> Turtle: Making a spiral</a></li></ol></li><li class="chapter-item expanded "><a href="014A_functions.html"><strong aria-hidden="true">14.</strong> Introducing Functions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="014B_func_return.html"><strong aria-hidden="true">14.1.</strong> Returning values from functions</a></li><li class="chapter-item expanded "><a href="014C_func_args.html"><strong aria-hidden="true">14.2.</strong> Function arguments</a></li><li class="chapter-item expanded "><a href="014D_closures.html"><strong aria-hidden="true">14.3.</strong> Closures</a></li></ol></li><li class="chapter-item expanded "><a href="015A_data_types.html"><strong aria-hidden="true">15.</strong> Data types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="015B_rust_types.html"><strong aria-hidden="true">15.1.</strong> Rust data types</a></li></ol></li><li class="chapter-item expanded "><a href="016A_typedvars.html"><strong aria-hidden="true">16.</strong> Back to declaring variables… with type</a></li><li class="chapter-item expanded "><a href="017A_conversions.html"><strong aria-hidden="true">17.</strong> Converting types with explicit conversions</a></li><li class="chapter-item expanded "><a href="018A_strings_intro.html"><strong aria-hidden="true">18.</strong> A tiny bit on strings</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="018B_strings_and_str.html"><strong aria-hidden="true">18.1.</strong> Simple explanation on &str vs String</a></li></ol></li><li class="chapter-item expanded "><a href="019A_fun_with_libs.html" class="active"><strong aria-hidden="true">19.</strong> Having fun with libraries</a></li><li class="chapter-item expanded "><a href="020A_structs.html"><strong aria-hidden="true">20.</strong> Not everything are numbers and texts: Structs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="020B_struct_impl.html"><strong aria-hidden="true">20.1.</strong> Struct-specific functions, really?</a></li><li class="chapter-item expanded "><a href="020C_oop.html"><strong aria-hidden="true">20.2.</strong> OOP? More like OP</a></li></ol></li><li class="chapter-item expanded "><a href="021A_enums.html"><strong aria-hidden="true">21.</strong> Enums!</a></li><li class="chapter-item expanded "><a href="022A_match.html"><strong aria-hidden="true">22.</strong> Match!</a></li><li class="chapter-item expanded "><a href="023A_borrowing.html"><strong aria-hidden="true">23.</strong> Borrowing</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">24.</strong> Lifetimes</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">25.</strong> Polymorphism</div></li><li class="spacer"></li><li class="chapter-item expanded "><a href="X01A_TODO.html"><strong aria-hidden="true">26.</strong> To-do: pieces that need more work</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="X02A_datatypes.html"><strong aria-hidden="true">26.1.</strong> What are those other data types for?</a></li><li class="chapter-item expanded "><a href="X03A_funcs_revisited.html"><strong aria-hidden="true">26.2.</strong> A bit more detailed explanation on functions</a></li><li class="chapter-item expanded "><a href="X04A_garbage_collector.html"><strong aria-hidden="true">26.3.</strong> What is a Garbage Collector?</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="Y01A_appendices.html"><strong aria-hidden="true">27.</strong> Appendices</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Y02A_license.html"><strong aria-hidden="true">27.1.</strong> Appendix A. License of this book</a></li><li class="chapter-item expanded "><a href="Y03A_caveats.html"><strong aria-hidden="true">27.2.</strong> Appendix B. Caveats and challenges in this book</a></li><li class="chapter-item expanded "><a href="Y04A_solutions.html"><strong aria-hidden="true">27.3.</strong> Appendix C. Exercises and Solutions</a></li><li class="chapter-item expanded "><a href="Y05A_projects.html"><strong aria-hidden="true">27.4.</strong> Appendix D. Proposed projects</a></li></ol></li></ol>
        </div>
        <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
    </nav>

    <div id="page-wrapper" class="page-wrapper">

        <div class="page">
                        <div id="menu-bar-hover-placeholder"></div>
            <div id="menu-bar" class="menu-bar sticky bordered">
                <div class="left-buttons">
                    <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents"
                        aria-label="Toggle Table of Contents" aria-controls="sidebar">
                        <i class="fa fa-bars"></i>
                    </button>
                    <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                        aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                        <i class="fa fa-paint-brush"></i>
                    </button>
                    <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                        <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                        <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                        <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                        <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                        <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button>
                        </li>
                    </ul>
                    <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                        aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                        aria-controls="searchbar">
                        <i class="fa fa-search"></i>
                    </button>
                </div>

                <h1 class="menu-title">🦀 Learn Programming with Rust as a first language</h1>

                <div class="right-buttons">
                    <a href="print.html" title="Print this book" aria-label="Print this book">
                        <i id="print-button" class="fa fa-print"></i>
                    </a>

                </div>
            </div>

            <div id="search-wrapper" class="hidden">
                <form id="searchbar-outer" class="searchbar-outer">
                    <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..."
                        aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                </form>
                <div id="searchresults-outer" class="searchresults-outer hidden">
                    <div id="searchresults-header" class="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
            </div>

            <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
            <script type="text/javascript">
                document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                    link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                });
            </script>

            <div id="content" class="content">
                <main>
                    <h1 id="having-fun-with-libraries"><a class="header" href="#having-fun-with-libraries">Having fun with libraries</a></h1>
<p>Doing everything by ourselves might be rewarding, but it is also tiring. 
It takes a lot of effort and knowledge to code a proper program that is really
useful. But I like a saying that goes: <em>“Don’t reinvent the wheel”</em></p>
<p>If you need something, it is highly probable that someone else did it already 
and shared it for free. Seriously. Most of the time it is just a problem of not 
googling enough, or using the right keywords.</p>
<p>People share their functions and modules as libraries called “crates” in a site
called <a href="https://crates.io">https://crates.io</a>.</p>
<p>As a beginner, it is important to use as many crates as you can<sup class="footnote-reference"><a href="#1">1</a></sup>. 
They will allow you to create interesting programs easily, giving you a good 
sense of progress.</p>
<p>The first library I want you to try is “rand”: https://crates.io/crates/rand</p>
<p>This crate as the name suggests creates random numbers. We need to install it in
our project, and for that, notice that on the right side of the website there
are Install instructions and Documentation:</p>
<p>So we will follow the installation instructions. 
We need to open our <code>Cargo.toml</code> file first. 
This file was created when we did <code>cargo new</code>.</p>
<pre><code class="language-toml"> [package]
 name = &quot;learnrust&quot;
 version = &quot;0.1.0&quot;
 edition = &quot;2021&quot;
 
 # See more keys and their definitions at ...
 
 [dependencies]
 rand = &quot;0.8.4&quot;   # Add dependencies here
</code></pre>
<p>We add the new crate to this file by inserting the line <code>rand = &quot;0.8.4&quot;</code> as the instructions say just below the <code>[dependencies]</code>.</p>
<p>If we execute now <code>cargo run</code> we get something different already:</p>
<pre><code> $ cargo run
   Compiling cfg-if v1.0.0
   Compiling ppv-lite86 v0.2.15
   Compiling libc v0.2.107
   Compiling getrandom v0.2.3
   Compiling rand_core v0.6.3
   Compiling rand_chacha v0.3.1
   Compiling rand v0.8.4
   Compiling learnrust v0.1.0 (/home/deavid/git/rust/learnrust)
    Finished dev [unoptimized + debuginfo] target(s) in 2.54s
     Running `target/debug/learnrust`
 Hello world
</code></pre>
<p>Cargo noticed that we have added a new dependency, so it downloaded the 
required libraries and compiled them too! A lot of work that didn’t require 
almost any manual action from our side.</p>
<p>The program however still does the same thing. Just installing a library is not
going to make our program generate random numbers.</p>
<p>The simplest way to start with it is to use <code>rand::random()</code>:</p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
   let randnum: i64 = rand::random();
   println!(&quot;Hello world: {}&quot;, randnum);
}
</code></pre></pre>
<p>We need to define the type of <code>randnum</code> this time. The reason is that this 
library detects where we want to save it and creates a random number as big as
possible that does fit.</p>
<p>The result is:</p>
<pre><code> deavid@debian:~/git/rust/learnrust$ cargo run
    Finished dev [unoptimized + debuginfo] target(s) in 0.00s
     Running `target/debug/learnrust`
 Hello world: 1976599895379426978
 deavid@debian:~/git/rust/learnrust$ cargo run
    Finished dev [unoptimized + debuginfo] target(s) in 0.00s
     Running `target/debug/learnrust`
 Hello world: -2920297650750248329
 deavid@debian:~/git/rust/learnrust$ cargo run
    Finished dev [unoptimized + debuginfo] target(s) in 0.00s
     Running `target/debug/learnrust`
 Hello world: 8971769657686972258
 deavid@debian:~/git/rust/learnrust$ cargo run
    Finished dev [unoptimized + debuginfo] target(s) in 0.00s
     Running `target/debug/learnrust`
 Hello world: -8688429354790802443
</code></pre>
<p>As we can see it creates very big numbers, both positive and negative. 
A different random number is generated in each run.</p>
<p>We could make the number non-negative and smaller by choosing <code>u8</code> instead of <code>i64</code>:</p>
<pre><pre class="playground"><code class="language-rust edition2021">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>   let randnum: u8 = rand::random();
<span class="boring">}
</span></code></pre></pre>
<p>This creates the following results:</p>
<pre><code> Hello world: 140
 Hello world: 215
 Hello world: 99
 Hello world: 221
</code></pre>
<p>Because u8 is unsigned and can hold numbers between 0 and 255 \((2^8-1)\), this is the range that we get.</p>
<p>We can instead ask this library for a specific range:</p>
<pre><pre class="playground"><code class="language-rust edition2021">use rand::Rng;

fn main() {
   let mut rng = rand::thread_rng();
   let randnum: i64 = rng.gen_range(1..=100);
   println!(&quot;Hello world: {}&quot;, randnum);
}
</code></pre></pre>
<p>In this case we need to create a random number generator object <code>rng</code>. 
This will be holding the internal state of the random generator. 
It needs to be mutable because the state changes as each number is generated, 
so the numbers aren’t repeated every time.</p>
<p>The <code>gen_range(1..=100)</code> specifies which range of numbers to retrieve, like in 
a for loop, but in this case we only get a single number, randomly.</p>
<p>The <code>use rand::Rng</code> on the top is needed to access the <code>gen_range</code> method. 
This is what Rust calls a Trait. We will go over these later on.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Of course, don’t go crazy and import the whole site. It’s not a race to see who imports more crates. Also, as you gain more experience you should be able to keep the number of imported libraries low.</p>
</div>

                </main>

                <nav class="nav-wrapper" aria-label="Page navigation">
                    <!-- Mobile navigation buttons -->
                    <a rel="prev" href="018B_strings_and_str.html" class="mobile-nav-chapters previous"
                        title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="020A_structs.html" class="mobile-nav-chapters next"
                        title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>

                    <div style="clear: both"></div>
                </nav>
            </div>
        </div>

        <nav class="nav-wide-wrapper" aria-label="Page navigation">
            <a rel="prev" href="018B_strings_and_str.html" class="nav-chapters previous" title="Previous chapter"
                aria-label="Previous chapter" aria-keyshortcuts="Left">
                <i class="fa fa-angle-left"></i>
            </a>

            <a rel="next" href="020A_structs.html" class="nav-chapters next" title="Next chapter"
                aria-label="Next chapter" aria-keyshortcuts="Right">
                <i class="fa fa-angle-right"></i>
            </a>
        </nav>

    </div>

    <!-- Livereload script (if served using the cli tool) -->
    <script type="text/javascript">
        const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
        const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
        const socket = new WebSocket(wsAddress);
        socket.onmessage = function (event) {
            if (event.data === "reload") {
                socket.close();
                location.reload();
            }
        };

        window.onbeforeunload = function () {
            socket.close();
        }
    </script>



    <script type="text/javascript">
        window.playground_copyable = true;
    </script>


    <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

    <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
    <script src="book.js" type="text/javascript" charset="utf-8"></script>

    <!-- Custom JS scripts -->


</body>

</html>